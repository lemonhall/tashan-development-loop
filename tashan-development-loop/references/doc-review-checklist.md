# 文档自检清单（PRD / 版本计划 / 追溯矩阵）

> 用法：在开始写实现之前，至少做一轮自检；在准备交付/声称完成之前，再做一轮自检。  
> 目标：把返工前置到文档阶段，把“口径漂移”变成可发现、可修正的差异清单。

## A) PRD 自检（设计图是否足够硬）

- [ ] **问题清晰**：痛点不是“感觉”，而是能复述成具体现象与后果（最好有例子）。
- [ ] **目标可验收**：Goals 使用可验收语言，不是口号。
- [ ] **非目标明确**：Non-goals 能有效挡住范围膨胀（写了就要遵守）。
- [ ] **术语/口径统一**：关键名词、ID 格式、数据契约在全文唯一且稳定。
- [ ] **场景覆盖**：至少 3 个关键场景 + 边界条件（失败/异常/极端输入）。
- [ ] **需求编号**：每条需求有 Req ID（例如 `REQ-001`），并能被计划与测试引用。
- [ ] **验收可二元判定**：每条需求都有清晰的验收口径（pass/fail），并写清验证方式。
- [ ] **约束写清楚**：性能/复杂度上限、确定性要求、安全边界、平台兼容等不能缺席。

## B) vN 计划自检（施工计划是否可执行）

- [ ] **每条计划都能追溯到 Req ID**：计划不是“想到哪写到哪”，而是对 PRD 的兑现。
- [ ] **范围边界明确**：Scope 同时写“做什么”和“不做什么”，避免把问题留给未来自己。
- [ ] **验收带命令与预期输出**：不能只有“应该可以/看起来不错/优化一下”等描述。
- [ ] **反作弊条款存在**：能阻止“只写文档不落地/只跑通不守语义/只加日志不改行为”这类空转。
- [ ] **风险与缓解**：列出 1–3 个最可能翻车的点，并写清缓解策略与验证方式。
- [ ] **证据位置明确**：每个里程碑完成后，证据落在哪里（tests、产物文件、关键日志关键词）。

## C) 追溯矩阵自检（防漂移的关键）

> 建议将追溯矩阵放在 `vN-index.md`，并在每次交付后更新。

- [ ] PRD 的每条 `REQ-*` 都能在矩阵里找到对应的 vN 条目（或明确标注“后续版本”）。
- [ ] 每个 vN 条目都能指向 tests/commands（验证入口）。
- [ ] tests/commands 的通过结果有证据（日志/产物/截图/commit）。
- [ ] 术语一致：PRD/计划/测试/代码对同一概念使用同一名字。

## D) 文档语言卫生（减少误解）

下面这些表达通常意味着口径不硬、会返工；遇到就停下来改写成“范围 + 验收 + 证据”：

- “差不多”“尽量”“优化一下”“提升一下”“应该没问题”“跑起来不崩”
- “先写着”“先随便做一版”“后面再说”

## E) 两遍审稿法（强烈推荐）

> 在没有多人 code review 的情况下，让 AI 自己切换视角做两遍审稿，能显著降低返工。

1) **产品/用户视角**：这真的是用户要的吗？边界条件写清了吗？非目标能挡住扩张吗？  
2) **测试/交付视角**：每条验收能被命令/测试验证吗？证据落点明确吗？追溯矩阵是否断链？

